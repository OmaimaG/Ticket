{"ast":null,"code":"var _jsxFileName = \"C:\\\\ticket\\\\ticketproject\\\\client\\\\src\\\\page\\\\ticket\\\\Ticket.page.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Button, Container, Row, Col } from 'react-bootstrap';\nimport tickets from '../../assets/data/dummy-tickets.json';\nimport { MessageHistory } from '../../components/message-history/MessageHistory.com';\nimport { UpdateTicket } from '../../components/update-ticket/UpdateTicket.com';\nimport { useParams } from 'react-router-dom';\n\n//const ticket=tickets[0]\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Ticket = () => {\n  _s();\n  const {\n    tId\n  } = useParams();\n  const [message, setMessage] = useState(\"\");\n  const [ticket, setTicket] = useState(\"\");\n  useEffect(() => {\n    for (let i = 0; i < tickets.length; i++) {\n      if (tickets[i].id === tId) {\n        setTicket(tickets[i]);\n        continue;\n      }\n    }\n  }, [tId, message]);\n  const handleOnSubmit = async e => {\n    e.preventDefault();\n    try {\n      const url = \"http://localhost:5000/ticket\";\n      const {\n        data: res\n      } = await axios.post(url, data);\n      localStorage.setItem(\"token\", res.data);\n      window.location = \"/dashboard\";\n    } catch (error) {\n      if (error.response && error.response.status >= 400 && error.response.status <= 500) {\n        setError(error.response.data.message);\n      }\n    }\n  };\n  const handleOnChange = e => {\n    setMessage(e.target.value);\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        children: [tId, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"subject\",\n          children: [\"Subject:\", ticket.subject]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"date\",\n          children: [\" Ticket Opened:\", ticket.openedDate]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"status\",\n          children: [\"Status:\", ticket.status]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline-info\",\n          children: \"close Ticket \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(MessageHistory, {\n        msg: ticket.history\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(UpdateTicket, {\n        handleOnChange: handleOnChange,\n        handleOnSubmit: handleOnSubmit,\n        msg: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 2\n  }, this);\n};\n_s(Ticket, \"MD7+t45Q/f/Zy/Vq9TFisi3Y69M=\", false, function () {\n  return [useParams];\n});\n_c = Ticket;\nvar _c;\n$RefreshReg$(_c, \"Ticket\");","map":{"version":3,"names":["React","useEffect","useState","Button","Container","Row","Col","tickets","MessageHistory","UpdateTicket","useParams","jsxDEV","_jsxDEV","Ticket","_s","tId","message","setMessage","ticket","setTicket","i","length","id","handleOnSubmit","e","preventDefault","url","data","res","axios","post","localStorage","setItem","window","location","error","response","status","setError","handleOnChange","target","value","children","className","subject","fileName","_jsxFileName","lineNumber","columnNumber","openedDate","variant","msg","history","_c","$RefreshReg$"],"sources":["C:/ticket/ticketproject/client/src/page/ticket/Ticket.page.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Button, Container, Row ,Col} from 'react-bootstrap'\r\nimport tickets from '../../assets/data/dummy-tickets.json'\r\nimport { MessageHistory } from '../../components/message-history/MessageHistory.com'\r\nimport { UpdateTicket } from '../../components/update-ticket/UpdateTicket.com'\r\nimport { useParams } from 'react-router-dom'\r\n\r\n//const ticket=tickets[0]\r\nexport const Ticket = () => {\r\n\r\n    const {tId}=useParams()\r\n    const [message,setMessage]=useState(\"\")\r\n    const [ticket,setTicket]=useState(\"\")\r\n\r\n    useEffect(() => {\r\n      for (let i = 0; i < tickets.length; i++) {\r\n        if (tickets[i].id === tId) {\r\n          setTicket(tickets[i]);\r\n          continue;\r\n        }\r\n      }\r\n    }, [tId, message]);\r\n    \r\n  const handleOnSubmit = async(e)=>{\r\n    e.preventDefault();\r\n\t\ttry {\r\n\t\t\tconst url = \"http://localhost:5000/ticket\";\r\n\t\t\tconst { data: res } = await axios.post(url, data);\r\n\t\t\tlocalStorage.setItem(\"token\", res.data);\r\n\t\t\twindow.location = \"/dashboard\";\r\n\t\t} catch (error) {\r\n\t\t\tif (\r\n\t\t\t\terror.response &&\r\n\t\t\t\terror.response.status >= 400 &&\r\n\t\t\t\terror.response.status <= 500\r\n\t\t\t) {\r\n\t\t\t\tsetError(error.response.data.message);\r\n\t\t\t}\r\n\t\t}\r\n\r\n  }\r\n    const handleOnChange = (e) => {\r\n        setMessage(e.target.value);\r\n      };\r\n  return (\r\n <Container>\r\n    <Row> \r\n      \r\n        <Col>\r\n        {tId}\r\n        <div className='subject'>Subject:{ticket.subject}</div>\r\n    <div className='date'> Ticket Opened:{ticket.openedDate}</div>\r\n    <div className='status'>Status:{ticket.status}</div>\r\n    </Col>\r\n    <Col >\r\n    \r\n    <Button variant='outline-info'>close Ticket </Button>\r\n    </Col>\r\n    \r\n    </Row>\r\n    <Row>\r\n        <MessageHistory msg={ticket.history}/>\r\n    </Row>\r\n    <Row>\r\n        <UpdateTicket handleOnChange={handleOnChange}\r\n                     handleOnSubmit={handleOnSubmit}\r\n        msg={message } />\r\n    </Row>\r\n\r\n </Container>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}